[gd_scene load_steps=8 format=3 uid="uid://bvnno1s6ya8m1"]

[ext_resource type="PackedScene" uid="uid://dvbh222xl50hr" path="res://Scene/House.tscn" id="1_viy06"]
[ext_resource type="PackedScene" uid="uid://bl77q5ofqfmhr" path="res://Prefabs/Player/Player.tscn" id="2_p64qu"]
[ext_resource type="Texture2D" uid="uid://cun0g3amydj38" path="res://Sprites/Furniture/background.png" id="3_c7x8j"]
[ext_resource type="Shader" path="res://Scene/BackgroundLoop.gdshader" id="3_r3inj"]
[ext_resource type="Script" path="res://Scene/TickSystem.gd" id="5_npdnh"]
[ext_resource type="Script" path="res://Scene/TimeController.gd" id="6_yp4a4"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_7n078"]
shader = ExtResource("3_r3inj")
shader_parameter/direction = Vector2(-1, 1)
shader_parameter/speed_scale = 0.25

[node name="MainScene" type="Node2D"]

[node name="House" parent="." instance=ExtResource("1_viy06")]

[node name="Player" parent="." instance=ExtResource("2_p64qu")]
z_index = 1
position = Vector2(279, 407)

[node name="Background" type="Sprite2D" parent="."]
z_index = -2
texture_repeat = 2
material = SubResource("ShaderMaterial_7n078")
position = Vector2(906, 798)
scale = Vector2(5, 5)
texture = ExtResource("3_c7x8j")
region_enabled = true
region_rect = Rect2(0, 0, 600, 600)

[node name="TickSystem" type="Node2D" parent="."]
script = ExtResource("5_npdnh")

[node name="TickTimer" type="Timer" parent="TickSystem"]
wait_time = 0.25
autostart = true

[node name="TimeController" type="Node2D" parent="."]
script = ExtResource("6_yp4a4")

[node name="CanvasModulate" type="CanvasModulate" parent="TimeController"]

[connection signal="timeout" from="TickSystem/TickTimer" to="TickSystem" method="_on_tick_timer_timeout"]
